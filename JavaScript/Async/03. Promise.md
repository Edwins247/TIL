# JavaScript Promise ì •ë¦¬

**Promise**ëŠ” JavaScriptì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê°ì²´ë¡œ, ì‘ì—…ì˜ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. PromiseëŠ” ES6(ECMAScript 2015)ì—ì„œ ë„ì…ë˜ì—ˆìœ¼ë©°, ì½œë°± íŒ¨í„´ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ë¹„ë™ê¸° ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê³  ì½ê¸° ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

---

## ğŸ“– Promiseë€?

- **Promise**ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ **ìµœì¢… ì™„ë£Œ(fulfilled)** ë˜ëŠ” **ì‹¤íŒ¨(rejected)**ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
- PromiseëŠ” ì„¸ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤:
  1. **Pending**: ì´ˆê¸° ìƒíƒœ, ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•ŠìŒ.
  2. **Fulfilled**: ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨.
  3. **Rejected**: ì‘ì—…ì´ ì‹¤íŒ¨í•¨.

---

## ğŸ“‚ Promise ìƒì„±

### **êµ¬ë¬¸**
```
const promise = new Promise((resolve, reject) => {
    // ë¹„ë™ê¸° ì‘ì—… ìˆ˜í–‰
    if (/* ì„±ê³µ ì¡°ê±´ */) {
        resolve(value); // ì„±ê³µ ì‹œ í˜¸ì¶œ
    } else {
        reject(error); // ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ
    }
});
```

- **`resolve(value)`**: ì‘ì—…ì´ ì„±ê³µí–ˆì„ ë•Œ ê²°ê³¼ê°’ì„ ì „ë‹¬.
- **`reject(error)`**: ì‘ì—…ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ ì—ëŸ¬ë¥¼ ì „ë‹¬.

---

### **ì˜ˆì œ: ê¸°ë³¸ Promise**
```
const promise = new Promise((resolve, reject) => {
    const success = true;

    if (success) {
        resolve("Task completed successfully!");
    } else {
        reject("Task failed!");
    }
});

promise
    .then(result => console.log(result)) // "Task completed successfully!"
    .catch(error => console.error(error)); // ì—ëŸ¬ ë°œìƒ ì‹œ ì¶œë ¥
```

---

## ğŸ“‚ Promise ì‚¬ìš©ë²•

### **1. `then()`**
- `then()`ì€ Promiseê°€ **ì„±ê³µ(Fulfilled)** ìƒíƒœì¼ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì„±ê³µ ì½œë°± í•¨ìˆ˜, ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì‹¤íŒ¨ ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("Data fetched!"), 2000);
});

promise.then(result => console.log(result)); // "Data fetched!" (2ì´ˆ í›„)
```

---

### **2. `catch()`**
- `catch()`ëŠ” Promiseê°€ **ì‹¤íŒ¨(Rejected)** ìƒíƒœì¼ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const promise = new Promise((resolve, reject) => {
    setTimeout(() => reject("Error occurred!"), 2000);
});

promise.catch(error => console.error(error)); // "Error occurred!" (2ì´ˆ í›„)
```

---

### **3. `finally()`**
- `finally()`ëŠ” ì„±ê³µ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ í•­ìƒ ì‹¤í–‰ë©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("Done!"), 2000);
});

promise
    .then(result => console.log(result))
    .catch(error => console.error(error))
    .finally(() => console.log("Operation complete.")); 
// ì¶œë ¥:
// Done! (2ì´ˆ í›„)
// Operation complete.
```

---

## ğŸ“‚ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì˜ˆì œ

### **1. Fetch APIì™€ í•¨ê»˜ ì‚¬ìš©**
PromiseëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ê³¼ ê°™ì€ ë¹„ë™ê¸° ì‘ì—…ì—ì„œ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
fetch("https://jsonplaceholder.typicode.com/posts/1")
    .then(response => response.json()) // ì‘ë‹µì„ JSONìœ¼ë¡œ ë³€í™˜
    .then(data => console.log(data))   // ë°ì´í„° ì¶œë ¥
    .catch(error => console.error("Error:", error));
```

---

## ğŸ“‚ Promise ì²´ì´ë‹

### **ê°œë…**
- ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ë•Œ, `then()` ë©”ì„œë“œë¥¼ ì²´ì¸ì²˜ëŸ¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const fetchData = () =>
    new Promise(resolve => setTimeout(() => resolve("Data fetched!"), 1000));

fetchData()
    .then(data => {
        console.log(data); // "Data fetched!"
        return "Processing data...";
    })
    .then(processedData => {
        console.log(processedData); // "Processing data..."
        return "Finished!";
    })
    .then(finalResult => console.log(finalResult)) // "Finished!"
    .catch(error => console.error(error));
```

---

## ğŸ“‚ Promise ìƒíƒœ ê´€ë¦¬

Promiseì˜ ìƒíƒœ ë³€í™”:
1. `Pending` â†’ `Fulfilled`: `resolve()` í˜¸ì¶œ ì‹œ.
2. `Pending` â†’ `Rejected`: `reject()` í˜¸ì¶œ ì‹œ.

#### ì˜ˆì œ:
```
const promise = new Promise((resolve, reject) => {
    const success = Math.random() > 0.5;

    if (success) {
        resolve("Success!");
    } else {
        reject("Failure!");
    }
});

promise
    .then(result => console.log(result))
    .catch(error => console.error(error));
```

---

## ğŸ“‚ ì—¬ëŸ¬ Promise ì²˜ë¦¬

### **1. `Promise.all()`**
- ëª¨ë“  Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ê°€ ì‹¤íŒ¨ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const p1 = Promise.resolve(10);
const p2 = new Promise(resolve => setTimeout(() => resolve(20), 1000));
const p3 = new Promise(resolve => setTimeout(() => resolve(30), 2000));

Promise.all([p1, p2, p3])
    .then(results => console.log(results)) // [10, 20, 30]
    .catch(error => console.error(error));
```

---

### **2. `Promise.race()`**
- ê°€ì¥ ë¨¼ì € ì™„ë£Œëœ Promiseì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

#### ì˜ˆì œ:
```
const p1 = new Promise(resolve => setTimeout(() => resolve("First!"), 1000));
const p2 = new Promise(resolve => setTimeout(() => resolve("Second!"), 2000));

Promise.race([p1, p2])
    .then(result => console.log(result)) // "First!"
    .catch(error => console.error(error));
```

---

## âœ¨ ìš”ì•½

| ë©”ì„œë“œ             | ì„¤ëª…                                                                 | ì˜ˆì œ                                      |
|--------------------|----------------------------------------------------------------------|------------------------------------------|
| `new Promise()`     | ìƒˆë¡œìš´ Promise ê°ì²´ ìƒì„±                                             | `new Promise((resolve, reject) => {...})`|
| `.then()`          | ì„±ê³µ ì‹œ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ ë“±ë¡                                        | `.then(result => {...})`                 |
| `.catch()`         | ì‹¤íŒ¨ ì‹œ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ ë“±ë¡                                        | `.catch(error => {...})`                 |
| `.finally()`       | ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ í•­ìƒ ì‹¤í–‰                                  | `.finally(() => {...})`                  |
| `Promise.all()`     | ëª¨ë“  Promiseê°€ ì™„ë£Œë˜ë©´ ê²°ê³¼ ë°°ì—´ ë°˜í™˜                               | `[p1,p2].all().then(results)`            |
| `Promise.race()`   | ê°€ì¥ ë¨¼ì € ì™„ë£Œëœ Promiseì˜ ê²°ê³¼ ë°˜í™˜                                 | `[p1,p2].race().then(result)`            |

---

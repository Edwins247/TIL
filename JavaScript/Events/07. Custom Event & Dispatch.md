# JavaScript ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ì™€ ë””ìŠ¤íŒ¨ì¹˜ ì •ë¦¬

JavaScriptì—ì„œ **ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸(Custom Event)** ëŠ” ê°œë°œìê°€ ì‚¬ìš©ì ì •ì˜ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  ë””ìŠ¤íŒ¨ì¹˜(ë°œìƒ)í•˜ì—¬ íŠ¹ì • ë™ì‘ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê¸°ë³¸ ì œê³µ ì´ë²¤íŠ¸ ì™¸ì—ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìš”í•œ ê³ ìœ í•œ ì´ë²¤íŠ¸ë¥¼ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ì˜ ê°œë…ê³¼ ë””ìŠ¤íŒ¨ì¹˜ ë°©ë²•, ê·¸ë¦¬ê³  ê´€ë ¨ ì˜ˆì œë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ“– ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë€?

- **ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸(Custom Event)** ëŠ” ê°œë°œìê°€ ì •ì˜í•œ ì‚¬ìš©ì ì§€ì • ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.
- ê¸°ë³¸ ì œê³µ ì´ë²¤íŠ¸(ì˜ˆ: `click`, `keydown`)ì™€ ë‹¬ë¦¬, íŠ¹ì • ìƒí™©ì—ì„œ ë™ì‘í•˜ë„ë¡ ì§ì ‘ ìƒì„±í•˜ê³  íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **`CustomEvent`** ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

---

## ğŸ“‚ CustomEvent ìƒì„± ë° ë””ìŠ¤íŒ¨ì¹˜

### **1. CustomEvent ìƒì„±**

#### **êµ¬ë¬¸**
```
const event = new CustomEvent(eventType, options);
```

- **`eventType`**: ìƒì„±í•  ì´ë²¤íŠ¸ì˜ ì´ë¦„(ë¬¸ìì—´).
- **`options`**: ì„ íƒì  ê°ì²´ë¡œ, ë‹¤ìŒ ì†ì„±ì„ í¬í•¨í•  ìˆ˜ ìˆìŒ:
  - **`detail`**: ì´ë²¤íŠ¸ì™€ í•¨ê»˜ ì „ë‹¬í•  ì¶”ê°€ ë°ì´í„°(ê°ì²´ í˜•íƒœ).
  - **`bubbles`**: ì´ë²¤íŠ¸ê°€ ë²„ë¸”ë§ë ì§€ ì—¬ë¶€(ê¸°ë³¸ê°’: `false`).
  - **`cancelable`**: ê¸°ë³¸ ë™ì‘ì„ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€(ê¸°ë³¸ê°’: `false`).

---

### **2. Event ë””ìŠ¤íŒ¨ì¹˜**

#### **êµ¬ë¬¸**
```
element.dispatchEvent(event);
```

- **`element`**: ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•  ëŒ€ìƒ DOM ìš”ì†Œ.
- **`event`**: ìƒì„±ëœ ì´ë²¤íŠ¸ ê°ì²´.

---

## ğŸ“‚ ì˜ˆì œ

### **1. ê¸°ë³¸ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„± ë° ë””ìŠ¤íŒ¨ì¹˜**
HTML:
```
<button id="myButton">Click Me</button>
```

JavaScript:
```
const button = document.getElementById("myButton");

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
const customEvent = new CustomEvent("customClick", {
    detail: { message: "Button was clicked!" },
    bubbles: true,
    cancelable: true
});

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
button.addEventListener("customClick", (event) => {
    console.log(event.detail.message); // "Button was clicked!"
});

// ë²„íŠ¼ í´ë¦­ ì‹œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
button.addEventListener("click", () => {
    button.dispatchEvent(customEvent);
});
```

---

### **2. ë°ì´í„° ì „ë‹¬**
HTML:
```
<div id="container"></div>
<button id="trigger">Trigger Event</button>
```

JavaScript:
```
const container = document.getElementById("container");
const triggerButton = document.getElementById("trigger");

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
const dataEvent = new CustomEvent("dataUpdate", {
    detail: { updatedData: "New data available!" }
});

// ë¦¬ìŠ¤ë„ˆ ë“±ë¡
container.addEventListener("dataUpdate", (event) => {
    console.log(event.detail.updatedData); // "New data available!"
});

// ë²„íŠ¼ í´ë¦­ ì‹œ ë°ì´í„° ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
triggerButton.addEventListener("click", () => {
    container.dispatchEvent(dataEvent);
});
```

---

### **3. ë²„ë¸”ë§ ë° ìº¡ì²˜ë§**
HTML:
```
<div id="parent">
  <button id="child">Click Me</button>
</div>
```

JavaScript:
```
const parent = document.getElementById("parent");
const child = document.getElementById("child");

// ë¶€ëª¨ ìš”ì†Œì— ë¦¬ìŠ¤ë„ˆ ë“±ë¡
parent.addEventListener("customClick", () => {
    console.log("Parent received customClick event");
});

// ìì‹ ìš”ì†Œì— ë¦¬ìŠ¤ë„ˆ ë“±ë¡
child.addEventListener("customClick", (event) => {
    console.log("Child received customClick event");
});

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„± ë° ë””ìŠ¤íŒ¨ì¹˜
const customEvent = new CustomEvent("customClick", { bubbles: true });
child.dispatchEvent(customEvent);

// ì¶œë ¥:
// Child received customClick event
// Parent received customClick event (ë²„ë¸”ë§)
```

---

### **4. ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ**
HTML:
```
<a href="https://example.com" id="link">Go to Example</a>
```

JavaScript:
```
const link = document.getElementById("link");

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
const preventableEvent = new CustomEvent("customNavigate", {
    cancelable: true
});

// ë¦¬ìŠ¤ë„ˆ ë“±ë¡
link.addEventListener("customNavigate", (event) => {
    if (!confirm("Do you want to navigate?")) {
        event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ
        console.log("Navigation prevented");
    }
});

// ë§í¬ í´ë¦­ ì‹œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜
link.addEventListener("click", (event) => {
    event.preventDefault(); // ê¸°ë³¸ ë§í¬ ë™ì‘ ë°©ì§€
    link.dispatchEvent(preventableEvent);
});
```

---

## ğŸ“‚ ì£¼ìš” ì†ì„± ë° ë©”ì„œë“œ ìš”ì•½

| ì†ì„±/ë©”ì„œë“œ             | ì„¤ëª…                                                                 | ì˜ˆì œ                                      |
|-------------------------|----------------------------------------------------------------------|------------------------------------------|
| `new CustomEvent()`     | ìƒˆ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ìƒì„±                                               | `new CustomEvent('eventName', options)`  |
| `detail`                | ì»¤ìŠ¤í…€ ë°ì´í„°(ê°ì²´ í˜•íƒœ)ë¥¼ ì „ë‹¬                                       | `{ detail: { key: 'value' } }`           |
| `bubbles`               | ì´ë²¤íŠ¸ê°€ ë²„ë¸”ë§ë ì§€ ì—¬ë¶€ ì„¤ì •                                         | `{ bubbles: true }`                      |
| `cancelable`            | ê¸°ë³¸ ë™ì‘ì„ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ ì„¤ì •                                | `{ cancelable: true }`                   |
| `dispatchEvent()`       | ì§€ì •ëœ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒ                                         | `.dispatchEvent(event)`                  |
| `preventDefault()`      | ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ                                                       | `event.preventDefault()`                 |

---

## ğŸ“‚ í™œìš© ì‚¬ë¡€

### 1. ë°ì´í„° ì—…ë°ì´íŠ¸ ì•Œë¦¼
HTML:
```
<div id="status">Status: Idle</div>
<button id="updateButton">Update Status</button>
```

JavaScript:
```
const statusDiv = document.getElementById("status");
const updateButton = document.getElementById("updateButton");

// ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
const statusUpdate = new CustomEvent("statusChange", {
    detail: { status: "Processing..." }
});

// ë¦¬ìŠ¤ë„ˆ ë“±ë¡
statusDiv.addEventListener("statusChange", (event) => {
    statusDiv.textContent = `Status: ${event.detail.status}`;
});

// ë²„íŠ¼ í´ë¦­ ì‹œ ìƒíƒœ ë³€ê²½
updateButton.addEventListener("click", () => {
    statusDiv.dispatchEvent(statusUpdate);
});
```

---

### 2. ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 
HTML:
```
<div id="componentA">Component A</div>
<div id="componentB">Component B</div>
<button id="notifyButton">Notify B</button>
```

JavaScript:
```
const componentA = document.getElementById("componentA");
const componentB = document.getElementById("componentB");
const notifyButton = document.getElementById("notifyButton");

// Component Bì—ì„œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
componentB.addEventListener("notify", (event) => {
    console.log(`Received notification with message: ${event.detail.message}`);
});

// ë²„íŠ¼ í´ë¦­ ì‹œ Component Aì—ì„œ Component Bë¡œ ì•Œë¦¼ ì „ì†¡
notifyButton.addEventListener("click", () => {
    const notifyEvent = new CustomEvent("notify", {
        detail: { message: "Hello from Component A!" }
    });
    componentB.dispatchEvent(notifyEvent);
});
```

---

## âœ¨ ìš”ì•½

1. **ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë€?**
   - ê°œë°œìê°€ ì •ì˜í•œ ì‚¬ìš©ì ì§€ì • ì´ë²¤íŠ¸ë¡œ, íŠ¹ì • ìƒí™©ì—ì„œ ë™ì‘í•˜ë„ë¡ ì§ì ‘ ìƒì„±í•˜ê³  íŠ¸ë¦¬ê±° ê°€ëŠ¥.

2. **Custom Event ì£¼ìš” ì†ì„±**
   - `detail`: ì¶”ê°€ ë°ì´í„°ë¥¼ ì „ë‹¬.
   - `bubbles`: ë²„ë¸”ë§ ì—¬ë¶€ ì„¤ì •.
   - `cancelable`: ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ ê°€ëŠ¥ ì—¬ë¶€ ì„¤ì •.

3. **ì£¼ìš” ë©”ì„œë“œ**
   - `new CustomEvent()`: ìƒˆ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±.
   - `dispatchEvent()`: íŠ¹ì • ìš”ì†Œì—ì„œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë°œìƒ.

4. **í™œìš© ì‚¬ë¡€**
   - ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ .
   - ë°ì´í„° ë³€ê²½ ì•Œë¦¼.
   - ì‚¬ìš©ì ì •ì˜ ìƒí˜¸ì‘ìš© ì²˜ë¦¬.

---

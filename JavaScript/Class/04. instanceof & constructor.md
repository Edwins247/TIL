# JavaScript `instanceof`ì™€ `constructor` ì •ë¦¬

JavaScriptì—ì„œ **`instanceof`**ì™€ **`constructor`**ëŠ” ê°ì²´ì™€ í´ë˜ìŠ¤(ë˜ëŠ” ìƒì„±ì í•¨ìˆ˜) ê°„ì˜ ê´€ê³„ë¥¼ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ë‘ ê°œë…ì€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤ë‚˜ ìƒì„±ì í•¨ìˆ˜ë¡œë¶€í„° ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê±°ë‚˜, í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ íƒìƒ‰í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” ë‘ ê°œë…ì˜ ì°¨ì´ì ê³¼ í™œìš©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ“– `instanceof` ì—°ì‚°ì

### **1. ê°œë…**
- **`instanceof`**ëŠ” ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤ ë˜ëŠ” ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ í™•ì¸í•˜ëŠ” ì—°ì‚°ìì…ë‹ˆë‹¤.
- í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ê°€ë©°, í•´ë‹¹ í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì´ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ì¡´ì¬í•˜ë©´ `true`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### **2. êµ¬ë¬¸**
```
object instanceof Constructor
```

- **`object`**: í™•ì¸í•  ê°ì²´.
- **`Constructor`**: í™•ì¸í•  ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” í´ë˜ìŠ¤.

---

### **3. ì˜ˆì œ**

#### ê¸°ë³¸ ì‚¬ìš©:
```
class Animal {}
class Dog extends Animal {}

const dog = new Dog();

console.log(dog instanceof Dog);    // true
console.log(dog instanceof Animal); // true
console.log(dog instanceof Object); // true
```

#### ì‚¬ìš©ì ì •ì˜ ìƒì„±ì í•¨ìˆ˜:
```
function Person(name) {
    this.name = name;
}

const alice = new Person("Alice");

console.log(alice instanceof Person); // true
console.log(alice instanceof Object); // true
```

#### ë‚´ì¥ ê°ì²´:
```
const arr = [1, 2, 3];

console.log(arr instanceof Array);  // true
console.log(arr instanceof Object); // true
console.log(arr instanceof String); // false
```

---

### **4. í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ë”°ë¥¸ ë™ì‘**
- `instanceof`ëŠ” ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ê°€ë©° ê²€ì‚¬í•©ë‹ˆë‹¤.
- ìƒì† ê´€ê³„ì—ì„œë„ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì˜ˆì œ:
```
class Parent {}
class Child extends Parent {}

const child = new Child();

console.log(child instanceof Child);  // true
console.log(child instanceof Parent); // true
console.log(child instanceof Object); // true
```

---

### **5. `Symbol.hasInstance`ë¥¼ ì‚¬ìš©í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•**
- í´ë˜ìŠ¤ì— **`Symbol.hasInstance`** ë©”ì„œë“œë¥¼ ì •ì˜í•˜ë©´ `instanceof`ì˜ ë™ì‘ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì˜ˆì œ:
```
class CustomClass {
    static [Symbol.hasInstance](obj) {
        return obj.isCustom === true;
    }
}

const obj = { isCustom: true };

console.log(obj instanceof CustomClass); // true
```

---

## ğŸ“‚ `constructor` ì†ì„±

### **1. ê°œë…**
- ëª¨ë“  ê°ì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **`constructor`** ì†ì„±ì„ ê°€ì§€ë©°, ì´ëŠ” í•´ë‹¹ ê°ì²´ë¥¼ ìƒì„±í•œ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
- ìƒì„±ìì˜ í”„ë¡œí† íƒ€ì…ì„ í†µí•´ ìƒì†ëœ ì†ì„±ì…ë‹ˆë‹¤.

---

### **2. ì˜ˆì œ**

#### ê¸°ë³¸ ì‚¬ìš©:
```
function Person(name) {
    this.name = name;
}

const alice = new Person("Alice");

console.log(alice.constructor === Person); // true
```

#### ë‚´ì¥ ê°ì²´:
```
const arr = [1, 2, 3];

console.log(arr.constructor === Array);  // true
console.log(arr.constructor === Object); // false
```

---

### **3. ì£¼ì˜ì‚¬í•­**

#### 1) `constructor`ëŠ” ì¬ì •ì˜ë  ìˆ˜ ìˆìŒ:
- í”„ë¡œí† íƒ€ì…ì„ ì¬ì •ì˜í•˜ë©´ ê¸°ì¡´ì˜ `constructor` ì†ì„±ì´ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
function Animal() {}
Animal.prototype = {};

const dog = new Animal();

console.log(dog.constructor === Animal); // false (constructorê°€ ì‚¬ë¼ì§)
```

#### í•´ê²° ë°©ë²•:
- ëª…ì‹œì ìœ¼ë¡œ `constructor`ë¥¼ ë‹¤ì‹œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.
```
Animal.prototype = {
    constructor: Animal,
    eat() {
        console.log("Eating...");
    }
};
```

#### 2) ì›ì‹œ ê°’ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠìŒ:
- ì›ì‹œ ê°’(`string`, `number`, `boolean`)ì€ ê°ì²´ê°€ ì•„ë‹ˆë¯€ë¡œ `constructor` ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```
const str = "Hello";

console.log(str.constructor === String); // Error: strì€ ì›ì‹œ ê°’ì´ë¯€ë¡œ constructor ì†ì„±ì´ ì—†ìŒ
```

---

## ğŸ“‚ `instanceof` vs `constructor`

| íŠ¹ì§•                     | `instanceof`                                   | `constructor`                              |
|--------------------------|-----------------------------------------------|-------------------------------------------|
| ì£¼ìš” ìš©ë„                | ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤/ìƒì„±ìì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ í™•ì¸   | ê°ì²´ë¥¼ ìƒì„±í•œ ìƒì„±ì í•¨ìˆ˜ í™•ì¸             |
| ê²€ì‚¬ ë°©ì‹                | í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ ê²€ì‚¬                     | ì§ì ‘ì ìœ¼ë¡œ ìƒì„±ìë¥¼ ì°¸ì¡°                   |
| ìƒì† ê´€ê³„ ê³ ë ¤ ì—¬ë¶€       | ìƒì† ê´€ê³„ë¥¼ ê³ ë ¤                               | ìƒì† ê´€ê³„ë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ                  |
| ì›ì‹œ ê°’ ê²€ì‚¬ ê°€ëŠ¥ ì—¬ë¶€    | ë¶ˆê°€ëŠ¥                                        | ì›ì‹œ ê°’ ê²€ì‚¬ ê°€ëŠ¥ (ë‹¨, ë˜í¼ ê°ì²´ ì‚¬ìš© ì‹œ)   |

---

## ğŸ“‚ í™œìš© ì‚¬ë¡€

### **1. ì—ëŸ¬ í•¸ë“¤ë§**
- íŠ¹ì • ì—ëŸ¬ íƒ€ì…ì„ êµ¬ë¶„í•˜ì—¬ ì²˜ë¦¬í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
```
try {
    throw new TypeError("This is a type error");
} catch (error) {
    if (error instanceof TypeError) {
        console.error("TypeError caught!");
    } else {
        console.error("Unknown error:", error);
    }
}
```

---

### **2. ìƒì† ê´€ê³„ í™•ì¸**
- ìƒì†ëœ í´ë˜ìŠ¤ì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ í¬í•¨í•œ ëª¨ë“  ìƒìœ„ í´ë˜ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
class Vehicle {}
class Car extends Vehicle {}

const myCar = new Car();

console.log(myCar instanceof Car);      // true
console.log(myCar instanceof Vehicle);  // true
console.log(myCar instanceof Object);   // true
```

---

### **3. ì»¤ìŠ¤í…€ íƒ€ì… í™•ì¸**
- íŠ¹ì • ìƒì„±ì í•¨ìˆ˜ë¡œë¶€í„° ìƒì„±ëœ ê°ì²´ì¸ì§€ í™•ì¸í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
```
function CustomType() {}

const obj = new CustomType();

if (obj.constructor === CustomType) {
    console.log("This is a CustomType object");
}
```

---

## ğŸ“‚ ì£¼ì˜ì‚¬í•­ ë° í•œê³„

1. **í”„ë¡œí† íƒ€ì… ë³€ê²½ ì‹œ ê²°ê³¼ ë³€í™”**
   - ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ë˜ëŠ” ìƒì„±ìì˜ í”„ë¡œí† íƒ€ì…ì´ ë³€ê²½ë˜ë©´ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
   ```
   function A() {}
   const obj = new A();

   A.prototype = {};
   console.log(obj instanceof A); // false (í”„ë¡œí† íƒ€ì… ë³€ê²½ë¨)
   ```

2. **ì›ì‹œ ê°’ê³¼ ë˜í¼ ê°ì²´**
   - ì›ì‹œ ê°’ì€ `instanceof`ë¡œ ê²€ì‚¬í•  ìˆ˜ ì—†ì§€ë§Œ, ë˜í¼ ê°ì²´(`new String`, `new Number`)ëŠ” ê°€ëŠ¥.
   ```
   const str = "Hello";
   const wrappedStr = new String("Hello");

   console.log(str instanceof String);         // false (ì›ì‹œ ê°’)
   console.log(wrappedStr instanceof String);  // true (ë˜í¼ ê°ì²´)
   ```

3. **ë‹¤ì¤‘ ìƒì† ë¯¸ì§€ì›**
   - JavaScriptëŠ” ë‹¤ì¤‘ ìƒì†ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ë‹¨ì¼ í”„ë¡œí† íƒ€ì… ì²´ì¸ë§Œ ê²€ì‚¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## âœ¨ ìš”ì•½

1. **`instanceof`:**
   - ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤ë‚˜ ìƒì„±ìì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ í™•ì¸.
   - ìƒì† ê´€ê³„ê¹Œì§€ ê³ ë ¤í•˜ë©°, í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ ê²€ì‚¬.

2. **`constructor`:**
   - ê°ì²´ë¥¼ ìƒì„±í•œ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì°¸ì¡°.
   - ìƒì† ê´€ê³„ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šìœ¼ë©°, ì§ì ‘ ì°¸ì¡°ë§Œ ê°€ëŠ¥.

3. ë‘ ì—°ì‚°ìëŠ” ê°ê° ë‹¤ë¥¸ ëª©ì ê³¼ íŠ¹ì§•ì„ ê°€ì§€ë¯€ë¡œ ìƒí™©ì— ë§ê²Œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

---
